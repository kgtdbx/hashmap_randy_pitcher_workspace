version: 2

sources:
  - name: snowflake_usage
    database: FIVETRAN_DB
    schema: HASHMAP_SNOWFLAKE_USAGE
    loader: fivetran # informational only (free text)
    loaded_at_field: INGESTION_TIME # used to calculate freshness
    
    freshness:
      warn_after: {count: 24, period: hour}
    
    tags:
      - snowflake_usage
      
    tables:
      - name: QUERY_HISTORY
      - name: SNOWPIPES
      - name: SNOWPIPE_USAGE_HISTORY
      - name: TASKS
      - name: TASK_USAGE_HISTORY
      - name: WAREHOUSE_METERING_HISTORY